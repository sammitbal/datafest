---
title: "datafest"
author: "Sammit Bal"
date: "2025-04-11"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## FrontMatter

```{r}
library(esquisse)
library(tidyverse)

maj_market_occu <- read.csv("./Major Market Occupancy Data-revised.csv")
price_avail <- read.csv("./Price and Availability Data.csv")
unem <- read.csv("./Unemployment.csv")
lease <- read.csv("./Leases.csv")

three_mc <- c("Los Angeles", "Manhattan", "Houston")
lease_3c <- lease %>% 
  filter(market == three_mc) %>%
  filter(!is.na(space_type))
```

## Understanding the Data

```{r}
colnames(maj_market_occu)
colnames(price_avail)
colnames(unem)
colnames(lease)
```

```{r}
# esquisser(data = unem, viewer = "browser")
# esquisser(unem)
```

## Consolidate Industry

```{r}

sum_industry <- lease %>%
  filter(market == c("Manhattan", "Los Angeles", "Houston") & is.na(internal_industry) == 0) %>%
  group_by(market, internal_industry) %>%
  summarize(count = n()) %>%
  mutate(prp = count/(sum(count))) %>%
  ungroup()


```


Make Rent, Occupancy, and Availability  graphs for Manhattan, LA, Houston

Histogram for each city for sublet available space.




```{r}
lease %>%
group_by(market) %>%
summarise(nmarket = n()) %>%
arrange(desc(nmarket))

```

```{r}
ggplot(data = lease_3c,
       mapping = aes(
         x = market,
         y = available_space)) +
  geom_boxplot() + 
  facet_grid(space_type ~ .)
```

